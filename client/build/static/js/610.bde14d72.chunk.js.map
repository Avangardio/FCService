{"version":3,"file":"static/js/610.bde14d72.chunk.js","mappings":"yKAAO,IAAMA,EAAyB,SAAqBC,EAAyBC,GAA9C,MAA4E,CAC9GC,OAAQ,OACRC,IAAK,yCACLC,iBAAiB,EACjBH,KAAM,CACFD,IAAKA,EACLK,SAAUJ,GANoB,C,kICAvB,SAASK,EAAgBC,GACpC,IAAMC,EAAY,IAAIC,KAAKF,GACrBG,EAAaD,KAAKE,MAAQH,EAAUI,UACpCC,EAAU,IAAIJ,KAAKC,GACnBI,EAAgBC,KAAKC,IAAIH,EAAQI,iBAAmB,MAE1D,MAAM,GAAN,OAAUH,EAAV,uBACH,C,aCCMI,GAD0BC,EAAQ,MAAlCpB,uBACwBoB,EAAQ,MAAhCD,sBAgBQ,SAASE,KAERC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAA2BA,EAAMC,UAAUvB,GAA3C,IAAxB,IAyBIwB,EAvBGC,GAAUC,EAAAA,EAAAA,MAAVD,OAEP,GAAoCE,EAAAA,EAAAA,YAApC,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAkCF,EAAAA,EAAAA,YAAlC,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAAgCJ,EAAAA,EAAAA,YAAhC,eAAOtB,EAAP,KAAiB2B,EAAjB,KAoBA,OAlBAC,QAAQC,IAAIJ,IAEZK,EAAAA,EAAAA,YAAU,WACNC,IAAMlB,EAAqBO,IACtBY,MAAK,SAAAC,GACFN,EAAYM,EAAOrC,KAAKsC,MACxBR,GAAa,GACbF,GAAc,GACdW,SAASC,MAAQH,EAAOrC,KAAKsC,KAAKG,UAAY,IAAMJ,EAAOrC,KAAKsC,KAAKI,QACxE,IACAC,OAAM,SAAAC,GACHhB,GAAc,GACgB,MAA1BgB,EAAMC,SAASC,QAAgBhB,GAAa,GAChDS,SAASC,MAAQ,kDACpB,GACR,GAAE,CAAChB,KAGc,IAAdK,GAA4B,wIAE5BF,IACAJ,GACI,iBAAKwB,UAAU,WAAf,WACI,4BACI,yCAAQ3C,QAAR,IAAQA,OAAR,EAAQA,EAAUqC,UAAlB,mBAA+BrC,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAUsC,aACzC,0BAAK,uBAAY,OAARtC,QAAQ,IAARA,GAAAA,EAAUE,SAAWD,EAAe,OAACD,QAAD,IAACA,OAAD,EAACA,EAAUE,UAAY,UACpE,0BAAG,4DAAH,iBAAqBF,QAArB,IAAqBA,OAArB,EAAqBA,EAAU4C,UAC/B,0BAAG,6DAAH,OAAmB5C,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAU6C,eAGjC,gBAAKC,IAAG,OAAE9C,QAAF,IAAEA,OAAF,EAAEA,EAAU+C,mBAK5B5B,IAAkC,2CAEzC,C","sources":["components/axiosConfigs/pageSetupConfiguration.ts","components/utities/userPageCalcAge.ts","routes/routeComponents/Page/Page.tsx"],"sourcesContent":["export const pageSetupConfiguration = <AxiosPageDataTypes>(uId: AxiosPageDataTypes, data: AxiosPageDataTypes) => ({\r\n    method: \"post\",\r\n    url: \"https://avangardio-1.ru/page/pageSetup\",\r\n    withCredentials: true,\r\n    data: {\r\n        uId: uId,\r\n        pageData: data\r\n    }\r\n});\r\n","export default function userPageCalcAge(birthDay: string): string {\r\n    const birthDate = new Date(birthDay)\r\n    const difference = Date.now() - birthDate.getTime()\r\n    const ageDate = new Date(difference)\r\n    const calculatedAge = Math.abs(ageDate.getUTCFullYear() - 1970);\r\n\r\n    return `${calculatedAge} лет.`;\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport {ReduxStoreType} from \"../../../redux/types/reduxStoreTypes\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport userPageCalcAge from '../../../components/utities/userPageCalcAge'\r\n\r\nconst {pageSetupConfiguration} = require('../../../components/axiosConfigs/pageSetupConfiguration');\r\nconst {getPageConfiguration} = require('../../../components/axiosConfigs/getPageConfiguration');\r\n\r\n\r\nexport interface pageDataTypes {\r\n    aboutMe: string\r\n    albums: string[]\r\n    city: string | \"\"\r\n    firstName: string\r\n    friends: string[]\r\n    lastName: string\r\n    posts: string\r\n    profilePhoto: string\r\n    uId: string\r\n    birthDay: string\r\n}\r\n\r\nexport default function UserPage() {\r\n\r\n    const uId = useSelector((state: ReduxStoreType) => state.userState.uId);\r\n\r\n    const {pageId} = useParams()\r\n\r\n    const [pageLoaded, setPageLoaded] = useState<boolean>()\r\n    const [pageExist, setPageExist] = useState<boolean>()\r\n    const [pageData, setPageData] = useState<pageDataTypes>()\r\n\r\n    console.log(pageExist);\r\n\r\n    useEffect(() => {\r\n        axios(getPageConfiguration(pageId))\r\n            .then(result => {\r\n                setPageData(result.data.page);\r\n                setPageExist(true)\r\n                setPageLoaded(true);\r\n                document.title = result.data.page.firstName + ' ' + result.data.page.lastName;\r\n            })\r\n            .catch(error => {\r\n                setPageLoaded(true);\r\n                if (error.response.status === 404) setPageExist(false);\r\n                document.title = \"Страница\";\r\n            })\r\n    }, [pageId])\r\n\r\n    let userPageLoaded;\r\n    if (pageExist === false) return <div>Страница не найдена.</div>;\r\n\r\n    if (pageLoaded) {\r\n        userPageLoaded =\r\n            <div className='UserPage'>\r\n                <div>\r\n                    <h1>{`${pageData?.firstName} ${pageData?.lastName}`}</h1>\r\n                    <div><b>{pageData?.birthDay ? userPageCalcAge(pageData?.birthDay) : null}</b></div>\r\n                    <p><b>Город: </b>{`${pageData?.city}`}</p>\r\n                    <p><b>О себе: </b>{pageData?.aboutMe}</p>\r\n\r\n                </div>\r\n                <img src={pageData?.profilePhoto}/>\r\n            </div>\r\n    }\r\n\r\n    return (\r\n        userPageLoaded ? userPageLoaded : <p>Loading page...</p>\r\n    )\r\n}\r\n"],"names":["pageSetupConfiguration","uId","data","method","url","withCredentials","pageData","userPageCalcAge","birthDay","birthDate","Date","difference","now","getTime","ageDate","calculatedAge","Math","abs","getUTCFullYear","getPageConfiguration","require","UserPage","useSelector","state","userState","userPageLoaded","pageId","useParams","useState","pageLoaded","setPageLoaded","pageExist","setPageExist","setPageData","console","log","useEffect","axios","then","result","page","document","title","firstName","lastName","catch","error","response","status","className","city","aboutMe","src","profilePhoto"],"sourceRoot":""}